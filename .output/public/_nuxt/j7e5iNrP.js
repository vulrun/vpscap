import{_ as ke}from"./CzZvajHs.js";import{S as xe,C as Ce,w as $e,c as J,O as we,x as Me,_ as ie,v as G}from"./ujrmovv1.js";import{k as le,c as p,o as c,u as a,l as Re,m as Se,w as o,p as N,i as z,q as Y,a as v,b as R,s as Te,n as Q,v as X,d as l,g as A,e as ae,t as P,x as se,F as q,h as H,f as L,y as _e,z as ne,A as U,r as pe,B as Ae,C as Fe,D as De,j as re,E as x}from"./CQzfIEGG.js";import{a as ze,b as Ve,c as je,d as Pe,_ as Be,R as oe}from"./BmZ2LAh1.js";import{_ as Le,a as Ne,b as Ue,L as ve,u as Ie,X as qe,c as He,d as Oe,e as ee,f as Ke,F as de,g as Ee,h as ce,i as We,j as Ge,k as Xe,l as Je,m as Qe,n as Ye,o as Ze,p as et,q as tt,r as at,s as st,t as nt,v as ot,w as I,x as ye,y as ue,z as j}from"./DuHPYbfw.js";import{_ as it,T as lt,P as me}from"./CFHj_Oi1.js";import{s as rt,d as he,t as B}from"./BvUkXoQN.js";import{_ as dt}from"./DzupHNbd.js";import{_ as ct}from"./DikSbjVC.js";import{_ as ut}from"./BkNBrZT-.js";import{_ as mt}from"./Cqh65oVF.js";import{c as Z}from"./C45a0SJ1.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=Z("cloud-alert",[["path",{d:"M12 12v4",key:"tww15h"}],["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M17 18h.5a1 1 0 0 0 0-9h-1.79A7 7 0 1 0 7 17.708",key:"xsb5ju"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=Z("cloud-fog",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 17H7",key:"pygtm1"}],["path",{d:"M17 21H9",key:"1u2q02"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=Z("leafy-green",[["path",{d:"M2 22c1.25-.987 2.27-1.975 3.9-2.2a5.56 5.56 0 0 1 3.8 1.5 4 4 0 0 0 6.187-2.353 3.5 3.5 0 0 0 3.69-5.116A3.5 3.5 0 0 0 20.95 8 3.5 3.5 0 1 0 16 3.05a3.5 3.5 0 0 0-5.831 1.373 3.5 3.5 0 0 0-5.116 3.69 4 4 0 0 0-2.348 6.155C3.499 15.42 4.409 16.712 4.2 18.1 3.926 19.743 3.014 20.732 2 22",key:"1134nt"}],["path",{d:"M2 22 17 7",key:"1q7jp2"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=Z("list-restart",[["path",{d:"M21 6H3",key:"1jwq7v"}],["path",{d:"M7 12H3",key:"13ou7f"}],["path",{d:"M7 18H3",key:"1sijw9"}],["path",{d:"M12 18a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L11 14",key:"qth677"}],["path",{d:"M11 10v4h4",key:"172dkj"}]]),vt=le({__name:"Tabs",props:{defaultValue:{},orientation:{},dir:{},activationMode:{},modelValue:{},asChild:{type:Boolean},as:{type:[String,Object,Function]}},emits:["update:modelValue"],setup(u,{emit:s}){const r=xe(u,s);return(i,d)=>(c(),p(a(Ce),Re(Se(a(r))),{default:o(()=>[N(i.$slots,"default")]),_:3},16))}}),yt=le({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(u){const s=u,n=z(()=>{const{class:f,...r}=s;return r});return(f,r)=>(c(),p(a($e),Y(n.value,{class:a(J)("inline-flex items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",s.class)}),{default:o(()=>[N(f.$slots,"default")]),_:3},16,["class"]))}}),ht={class:"truncate"},bt=le({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(u){const s=u,n=z(()=>{const{class:r,...i}=s;return i}),f=we(n);return(r,i)=>(c(),p(a(Me),Y(a(f),{class:a(J)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",s.class)}),{default:o(()=>[v("span",ht,[N(r.$slots,"default")])]),_:3},16,["class"]))}}),be={__name:"ScrollableDiv",props:["class","maxHeight"],setup(u){const s=u;return(n,f)=>(c(),R("div",{class:Q(("cn"in n?n.cn:a(J))("transition-all duration-300 ease-in-out relative overflow-y-auto",s==null?void 0:s.class)),style:Te({maxHeight:String((s==null?void 0:s.maxHeight)||120)+"px"})},[N(n.$slots,"default")],6))}},kt={class:"vstack my-2 gap-2"},xt={class:"vstack my-2 gap-2"},Ct={class:"font-semibold text-sm"},$t={class:"font-normal text-xs tracking-wider rounded bg-gray-600 text-white px-1.5 h-5 leading-5"},wt={key:1,class:"font-medium text-red-600"},Mt={__name:"AddDialog",props:["apiUrl","value","heading"],emits:["update:list"],setup(u,{emit:s}){const n=u,f=s,r=X([]),i=X(!!(n!=null&&n.value)),d=X(!1),m=X((n==null?void 0:n.value)||""),_=z(()=>rt(m==null?void 0:m.value));async function $(){try{r.value=[],d.value=!0;const e={domains:_==null?void 0:_.value},t=await _e(n==null?void 0:n.apiUrl,{method:"POST",body:e});f("update:list",t),ne((t==null?void 0:t.message)||t),d.value=!1,await he(400),m.value="",i.value=!1}catch(e){d.value=!1,r.value=[e==null?void 0:e.message]}}return(e,t)=>{const g=ie,w=ze,F=Pe,D=je,S=it,k=be,h=Ne,b=Ue,T=Le,y=Ve,C=Be;return c(),p(C,{open:a(i),"onUpdate:open":t[1]||(t[1]=M=>se(i)?i.value=M:null)},{default:o(()=>[l(w,{"as-child":""},{default:o(()=>[N(e.$slots,"default",{},()=>[l(g,{class:"ml-2",variant:"outline"},{default:o(()=>t[2]||(t[2]=[A("Add")])),_:1,__:[2]})])]),_:3}),l(y,{"as-child":"",class:"max-w-[95svw] max-h-[95svh] md:max-w-lg grid-rows-[auto_minmax(0,1fr)_auto]"},{default:o(()=>[v("form",{onSubmit:ae($,["prevent"])},[l(D,null,{default:o(()=>[l(F,null,{default:o(()=>[A(P((n==null?void 0:n.heading)||"Add Certficate"),1)]),_:1})]),_:1}),v("div",kt,[t[3]||(t[3]=v("label",{for:"domains",class:"text-sm font-medium"},"Enter Domain(s)",-1)),l(S,{id:"domains",modelValue:a(m),"onUpdate:modelValue":t[0]||(t[0]=M=>se(m)?m.value=M:null),class:"text-md"},null,8,["modelValue"])]),v("div",xt,[v("span",Ct,"Validated Domains ("+P(a(_).length)+"):",1),l(k,{class:"flex-1 hstack gap-2 flex-wrap"},{default:o(()=>[(c(!0),R(q,null,H(a(_),M=>(c(),R("span",$t,P(M),1))),256))]),_:1})]),l(T,{class:"flex"},{default:o(()=>[a(d)?(c(),p(h,{key:0,delay:2e3,values:["Please Wait...","Loading..."],class:"font-medium text-green-700"})):a(r).length>0?(c(),R("span",wt,P(a(r).join(" ")),1)):L("",!0),t[6]||(t[6]=v("i",{class:"mx-auto"},null,-1)),l(b,{"as-child":""},{default:o(()=>[l(g,{type:"button",variant:"secondary",class:"w-20"},{default:o(()=>t[4]||(t[4]=[A("Close")])),_:1,__:[4]})]),_:1}),a(d)?(c(),p(g,{key:2,disabled:"",class:"w-20"},{default:o(()=>[l(a(ve),{class:"size-6 animate-spin"})]),_:1})):(c(),p(g,{key:3,type:"submit",class:"w-20"},{default:o(()=>t[5]||(t[5]=[A("Save")])),_:1,__:[5]}))]),_:1,__:[6]})],32)]),_:1})]),_:3},8,["open"])}}},Rt={class:"space-y-4"},St={class:"flex items-center justify-between"},Tt={class:"flex flex-1 items-center space-x-2"},At={class:"rounded-md border"},Ft={__name:"DataTable",props:["data","columns","sorting"],setup(u){const s=u,n=U("certs-sorting",[].concat(s==null?void 0:s.sorting).filter(Boolean)),f=U("certs-pagination",{pageIndex:0,pageSize:20}),r=U("certs-globalFilter",""),i=U("certs-columnFilters",[]),d=U("certs-columnVisibility",{}),m=Ie({sortDescFirst:!0,get data(){return s.data},get columns(){return s.columns},state:{get sorting(){return n.value},get pagination(){return f.value},get globalFilter(){return r.value},get columnFilters(){return i.value},get columnVisibility(){return d.value}},getCoreRowModel:tt(),getSortedRowModel:et(),getExpandedRowModel:Ze(),getFilteredRowModel:Ye(),getPaginationRowModel:Qe(),getFacetedRowModel:Je(),getFacetedUniqueValues:Xe(),onSortingChange:t=>G(t,n),onPaginationChange:t=>G(t,f),onGlobalFilterChange:t=>G(t,r),onColumnFiltersChange:t=>G(t,i),onColumnVisibilityChange:t=>G(t,d)}),_=z(()=>m.getAllColumns().filter(t=>typeof t.accessorFn<"u"&&t.getCanHide())),$=z(()=>r.value.length>0||m.getState().columnFilters.length>0);function e(){r.value="",m.resetColumnFilters()}return(t,g)=>{const w=ct,F=ie,D=He,S=Ge;return c(),R("div",Rt,[v("div",St,[v("div",Tt,[l(w,{placeholder:"search here...",class:"h-8 w-[150px] lg:w-[250px]","model-value":a(r)??"",onInput:g[0]||(g[0]=k=>r.value=String(k.target.value))},null,8,["model-value"]),a($)?(c(),p(F,{key:0,variant:"ghost",class:"flex items-center h-8 px-2 lg:px-3 bg-accent text-accent-foreground border border-transparent hover:border-gray-400/80",onClick:e},{default:o(()=>[g[1]||(g[1]=A(" Reset ")),l(a(qe),{class:"h-4 w-4"})]),_:1,__:[1]})):L("",!0)]),l(D,{table:a(m)},null,8,["table"])]),v("div",At,[l(a(We),null,{default:o(()=>[l(a(Oe),null,{default:o(()=>[(c(!0),R(q,null,H(a(m).getHeaderGroups(),k=>(c(),p(a(ee),{key:k.id},{default:o(()=>[(c(!0),R(q,null,H(k.headers,h=>(c(),p(a(Ke),{key:h.id},{default:o(()=>[h.isPlaceholder?L("",!0):(c(),p(a(de),{key:0,render:h.column.columnDef.header,props:h.getContext()},null,8,["render","props"]))]),_:2},1024))),128))]),_:2},1024))),128))]),_:1}),l(a(Ee),null,{default:o(()=>{var k;return[(k=a(m).getRowModel().rows)!=null&&k.length?(c(!0),R(q,{key:0},H(a(m).getRowModel().rows,h=>(c(),p(a(ee),{key:h.id,"data-state":h.getIsSelected()&&"selected"},{default:o(()=>[(c(!0),R(q,null,H(h.getVisibleCells(),b=>{var T,y;return c(),p(a(ce),{key:b.id,class:Q((y=(T=b==null?void 0:b.column)==null?void 0:T.columnDef)==null?void 0:y.cellClass)},{default:o(()=>{var C,M;return[l(a(de),{render:(M=(C=b==null?void 0:b.column)==null?void 0:C.columnDef)==null?void 0:M.cell,props:b.getContext()},null,8,["render","props"])]}),_:2},1032,["class"])}),128))]),_:2},1032,["data-state"]))),128)):(c(),p(a(ee),{key:1},{default:o(()=>[l(a(ce),{colspan:a(_).length,class:"aspect-video text-center"},{default:o(()=>g[2]||(g[2]=[A("No results.")])),_:1,__:[2]},8,["colspan"])]),_:1}))]}),_:1})]),_:1})]),l(S,{table:a(m)},null,8,["table"])])}}};function Dt(u,s){const n={year:31536e6,month:2628e6,day:864e5,hour:36e5,minute:6e4,second:1e3},f=new Intl.RelativeTimeFormat("en",{style:"short",numeric:"always"}),r=new Date(u)-(s||new Date);for(const i in n)if(Math.abs(r)>n[i]||i=="second")return f.format(Math.round(r/n[i]),i);return"---"}const zt={class:"font-semibold"},ge={__name:"RowExpiry",props:["row","class"],setup(u){const s=u,n=z(()=>{var i,d,m,_;return new Date(((d=(i=s==null?void 0:s.row)==null?void 0:i.original)==null?void 0:d.expiresAt)||((_=(m=s==null?void 0:s.row)==null?void 0:m.original)==null?void 0:_.valid_to))}),f=z(()=>{var i,d,m,_,$,e;return(d=(i=s==null?void 0:s.row)==null?void 0:i.original)!=null&&d.isValid?_t:(e=($=(_=(m=s==null?void 0:s.row)==null?void 0:m.original)==null?void 0:_.remarks)==null?void 0:$.toLowerCase())!=null&&e.startsWith("domain")?gt:ft}),r=z(()=>{var i,d,m,_,$,e;return(d=(i=s==null?void 0:s.row)==null?void 0:i.original)!=null&&d.isValid?"text-green-800":(e=($=(_=(m=s==null?void 0:s.row)==null?void 0:m.original)==null?void 0:_.remarks)==null?void 0:$.toLowerCase())!=null&&e.startsWith("domain")?"text-red-700":"text-amber-700"});return(i,d)=>{const m=st,_=nt,$=at,e=ot;return c(),p(e,null,{default:o(()=>[l($,null,{default:o(()=>[l(m,{class:Q(("cn"in i?i.cn:a(J))("flex text-left opacity-90",s==null?void 0:s.class,a(r)))},{default:o(()=>{var t,g;return[(c(),p(pe(a(f)),{class:"mx-2 size-4"})),v("span",zt,P((g=(t=u.row)==null?void 0:t.original)==null?void 0:g.remarks),1)]}),_:1},8,["class"]),l(_,{class:"font-mono"},{default:o(()=>{var t,g;return[A(P(a(n).valueOf()?a(n).toISOString():(g=(t=u.row)==null?void 0:t.original)==null?void 0:g.remarks),1)]}),_:1})]),_:1})]),_:1})}}},te={__name:"RowDomain",props:["class","domains"],setup(u){return(s,n)=>{const f=be;return c(),p(f,{class:Q(("cn"in s?s.cn:a(J))("vstack",u.class))},{default:o(()=>[(c(!0),R(q,null,H(u.domains,(r,i)=>(c(),R("span",{key:r,class:"text-sm"},P(r),1))),128))]),_:1},8,["class"])}}},Vt=Object.assign({inheritAttrs:!1},{__name:"ClickAction",props:["class","actionPayload","action","disabled","asChild"],emits:["update:list"],setup(u,{emit:s}){const n=u,f=s,r=X(!1);async function i(){try{r.value=!0;const d=await _e(`/api/action/${n==null?void 0:n.action}`,{method:"POST",body:(n==null?void 0:n.actionPayload)||{}});f("update:list",d),ne((d==null?void 0:d.message)||d),await he(400),r.value=!1}catch(d){r.value=!1,ne((d==null?void 0:d.message)||"oops, something went wrong")}}return(d,m)=>(c(),R("div",Y({class:["flex",n.class]},{disabled:n==null?void 0:n.disabled}),[a(r)?N(d.$slots,"loading",{key:1}):(c(),p(pe(n!=null&&n.asChild?"span":"button"),Y({key:0},d.$attrs,{onClick:i}),{default:o(()=>[N(d.$slots,"default")]),_:3},16))],16))}}),jt={class:"hstack space-x-2 mx-auto"},fe={__name:"RowAction",props:["row","viewMode"],emits:["update:list"],setup(u,{emit:s}){const n=s,f=z(()=>u.viewMode.value==="monitor"),r=z(()=>u.viewMode.value==="install");return(i,d)=>{var t,g,w,F,D,S,k,h,b,T;const m=I,_=ie,$=Vt,e=ye;return c(),R("div",jt,[a(f)?(c(),p($,{key:0,asChild:"","onUpdate:list":d[0]||(d[0]=y=>n("update:list",y)),action:"refreshMonitoredCert",actionPayload:{domains:("toArray"in i?i.toArray:a(B))((g=(t=u.row)==null?void 0:t.original)==null?void 0:g.domain)}},{loading:o(()=>[l(_,{class:"relative hstack size-7 rounded p-0 [&_svg]:size-4 border border-gray-600 text-gray-600 hover:text-gray-600 hover:bg-gray-200 opacity-80",variant:"outline"},{default:o(()=>[l(a(ve),{class:"size-4 animate-spin absolute"})]),_:1})]),default:o(()=>{var y,C;return[l(m,{class:"relative hstack size-7 rounded p-0 [&_svg]:size-4 border border-green-600 text-green-600 hover:text-green-600 hover:bg-green-100 opacity-80",variant:"outline",title:`Refresh ${(C=(y=u.row)==null?void 0:y.original)==null?void 0:C.domain}`},{default:o(()=>[l(a(oe))]),_:1},8,["title"])]}),_:1},8,["actionPayload"])):L("",!0),l(e,{asChild:"","onUpdate:list":d[1]||(d[1]=y=>n("update:list",y)),title:`Are you sure to delete \`${a(f)?(F=(w=u.row)==null?void 0:w.original)==null?void 0:F.domain:a(r)?(S=(D=u.row)==null?void 0:D.original)==null?void 0:S.dirName:null}\` certificate?`,action:a(f)?"deleteMonitoredCert":a(r)?"deleteInstalledCert":null,actionPayload:{domains:a(f)?("toArray"in i?i.toArray:a(B))((h=(k=u.row)==null?void 0:k.original)==null?void 0:h.domain):a(r)?("toArray"in i?i.toArray:a(B))((T=(b=u.row)==null?void 0:b.original)==null?void 0:T.dirName):null}},{default:o(()=>{var y,C;return[l(m,{class:"relative hstack size-7 rounded p-0 [&_svg]:size-4 border border-red-400 text-red-400 hover:text-red-400 hover:bg-red-100",variant:"outline",title:`Delete ${(C=(y=u.row)==null?void 0:y.original)==null?void 0:C.domain}`},{default:o(()=>[l(a(lt))]),_:1},8,["title"])]}),_:1},8,["title","action","actionPayload"])])}}},Pt={class:"w-full"},Bt={class:"flex items-start justify-between"},Lt={class:"hstack items-start justify-between"},Nt={class:"vstack gap-1"},Ut={class:"text-gray-500 text-sm"},It={key:0,class:"mx-1"},qt={class:"hstack gap-2"},Ht={class:"py-10"},Ot={class:"hstack items-start justify-between"},Kt={class:"hstack gap-2"},Et={class:"py-10"},oa={__name:"certs",setup(u){const s=U("certs-view-mode","monitor"),n=e=>s.value=e==="install"?"install":"monitor",f=Ae(),r=Fe();De(()=>{var e,t;if(setTimeout(()=>f.push({...r,query:null}),2e3),(e=r==null?void 0:r.query)!=null&&e.install)return n("install");if((t=r==null?void 0:r.query)!=null&&t.monitor)return n("monitor")});const i=re("/api/fetch/monitoredCerts"),d=z(()=>{var e,t,g,w;return(e=i==null?void 0:i.isLoading)!=null&&e.value?null:(w=(g=(t=i==null?void 0:i.result)==null?void 0:t.value)==null?void 0:g[0])==null?void 0:w.cachedAt}),m=[{accessorKey:"domain",header:({column:e})=>x(j,{column:e,title:"Domain"}),cell:({row:e})=>{var t;return x("div",{class:""},B((t=e==null?void 0:e.original)==null?void 0:t.domain))}},{accessorKey:"subject_names",header:({column:e})=>x(j,{column:e,title:"Subject Names"}),cell:({row:e})=>{var t;return x(te,{row:e,class:"text-gray-500 text-sm fonts-mono-inconsolata",domains:B((t=e==null?void 0:e.original)==null?void 0:t.subject_names)})}},{accessorKey:"issuer",header:({column:e})=>x(j,{column:e,title:"Issuer"}),cell:({row:e})=>{var t;return x("div",{class:"fonts-mono-ubuntu text-gray-600"},(t=e==null?void 0:e.original)==null?void 0:t.issuer)}},{accessorKey:"remarks",sortingFn:"alphanumeric",header:({column:e})=>x(j,{column:e,title:"Remarks"}),cell:({row:e})=>x(ge,{row:e})},{id:"actions",cellClass:"flex",cell:({row:e})=>x(fe,{row:e,viewMode:s,"onUpdate:list":()=>i.reload.value()})}],_=re("/api/fetch/installedCerts"),$=[{accessorKey:"domain",header:({column:e})=>x(j,{column:e,title:"Domain"}),cell:({row:e})=>{var t;return x(te,{row:e,class:"",domains:B((t=e==null?void 0:e.original)==null?void 0:t.domain)})}},{accessorKey:"altNames",header:({column:e})=>x(j,{column:e,title:"Subject Names"}),cell:({row:e})=>{var t;return x(te,{row:e,class:"text-gray-500 text-sm fonts-mono-inconsolata",domains:B((t=e==null?void 0:e.original)==null?void 0:t.altNames)})}},{accessorKey:"issuer",header:({column:e})=>x(j,{column:e,title:"Issuer"}),cell:({row:e})=>{var t,g,w,F,D,S,k,h,b,T;return x(ue,{class:"fonts-mono-ubuntu text-gray-600",innerText:`${(g=(t=e==null?void 0:e.original)==null?void 0:t.issuedBy)==null?void 0:g.organizationName}, ${(F=(w=e==null?void 0:e.original)==null?void 0:w.issuedBy)==null?void 0:F.countryName}`,hoverText:`${(S=(D=e==null?void 0:e.original)==null?void 0:D.issuedBy)==null?void 0:S.commonName}, ${(h=(k=e==null?void 0:e.original)==null?void 0:k.issuedBy)==null?void 0:h.organizationName}, ${(T=(b=e==null?void 0:e.original)==null?void 0:b.issuedBy)==null?void 0:T.countryName}`,hoverClass:""})}},{accessorKey:"remarks",sortingFn:"alphanumeric",header:({column:e})=>x(j,{column:e,title:"Remarks"}),cell:({row:e})=>x(ge,{row:e})},{id:"expiresAt"},{id:"dirName"},{id:"actions",cell:({row:e})=>x(fe,{row:e,viewMode:s,"onUpdate:list":()=>_.reload.value()})}];return(e,t)=>{const g=ke,w=bt,F=yt,D=vt,S=Mt,k=dt,h=Ft,b=ut,T=mt;return c(),p(T,null,{default:o(()=>[v("div",Pt,[v("div",Bt,[l(g,{title:"SSL Certificates"},{default:o(()=>t[4]||(t[4]=[A("Monitor or install SSL certificates for your domains")])),_:1,__:[4]}),l(D,{modelValue:a(s),"onUpdate:modelValue":[t[0]||(t[0]=y=>se(s)?s.value=y:null),n]},{default:o(()=>[l(F,{class:"h-12 border border-input bg-transparent"},{default:o(()=>[l(w,{class:"h-10 border-none",value:"monitor"},{default:o(()=>t[5]||(t[5]=[A("Monitored Certificates")])),_:1,__:[5]}),l(w,{class:"h-10 border-none",value:"install"},{default:o(()=>t[6]||(t[6]=[A("Installed Certificates")])),_:1,__:[6]})]),_:1})]),_:1},8,["modelValue"])]),a(s)==="monitor"?(c(),p(b,{key:0,class:"gap-2"},{default:o(()=>{var y,C,M,O,K,E,W;return[v("div",Lt,[v("div",Nt,[t[9]||(t[9]=v("h3",{class:"text-gray-700 text-md font-semibold leading-none tracking-tight"},"Monitored Certificates",-1)),v("p",Ut,[t[8]||(t[8]=A(" Stay ahead of expiration dates with timely tracking alerts for your important certificates. ")),a(d)?(c(),R("span",It,[t[7]||(t[7]=A("Last cached at: ")),l(ue,{class:"font-bold",hoverText:a(d),innerText:("getRelativeTime"in e?e.getRelativeTime:a(Dt))(a(d))},null,8,["hoverText","innerText"])])):L("",!0)])]),v("div",qt,[l(I,{title:"Refresh",variant:"outline",size:"sm",class:"relative hstack bg-background text-muted-foreground h-10 w-10 [&_svg]:size-4",onClick:ae((y=a(i))==null?void 0:y.reload.value,["prevent"])},{default:o(()=>[l(a(oe))]),_:1},8,["onClick"]),l(S,{apiUrl:"/api/action/insertMonitoredCert",value:(M=(C=a(r))==null?void 0:C.query)==null?void 0:M.monitor,heading:"Add Monitor Certificate","onUpdate:list":t[1]||(t[1]=()=>{var V;return(V=a(i))==null?void 0:V.reload.value()})},{default:o(()=>[l(I,{title:"Add Certificate",variant:"outline",size:"sm",class:"relative hstack bg-background text-muted-foreground h-10 w-10 [&_svg]:size-4"},{default:o(()=>[l(a(me))]),_:1})]),_:1},8,["value"]),l(ye,{class:Q(["text-gray-700"]),action:"purgeMonitoredCertsCache","onUpdate:list":t[2]||(t[2]=()=>{var V;return(V=a(i))==null?void 0:V.reload.value()}),title:"Are you sure to hard refresh all certificates?",asChild:""},{default:o(()=>[l(I,{title:"Hard Refresh",variant:"outline",size:"sm",class:"relative hstack bg-background text-muted-foreground h-10 w-10 [&_svg]:size-4"},{default:o(()=>[l(a(pt))]),_:1})]),_:1})])]),v("div",Ht,[(K=(O=a(i))==null?void 0:O.isLoading)!=null&&K.value?(c(),p(k,{key:0,class:"aspect-video"})):(c(),p(h,{key:1,data:(W=(E=a(i))==null?void 0:E.result)==null?void 0:W.value,columns:m,sorting:[{id:"remarks",desc:!1}]},null,8,["data"]))])]}),_:1})):L("",!0),a(s)==="install"?(c(),p(b,{key:1,class:"gap-2"},{default:o(()=>{var y,C,M,O,K,E,W;return[v("div",Ot,[t[10]||(t[10]=v("div",{class:"vstack gap-1"},[v("h3",{class:"text-gray-700 text-md font-semibold leading-none tracking-tight"},"Installed Certificates"),v("p",{class:"text-gray-500 text-sm"},"Certificates that are installed on you vps server, ensuring secure connections for your website or application.")],-1)),v("div",Kt,[l(I,{title:"Refresh",variant:"outline",size:"sm",class:"relative hstack bg-background text-muted-foreground h-10 w-10 [&_svg]:size-4",onClick:ae((y=a(_))==null?void 0:y.reload.value,["prevent"])},{default:o(()=>[l(a(oe))]),_:1},8,["onClick"]),l(S,{apiUrl:"/api/action/createInstalledCert",value:(M=(C=a(r))==null?void 0:C.query)==null?void 0:M.install,heading:"Install Certificate","onUpdate:list":t[3]||(t[3]=()=>{var V;return(V=a(_))==null?void 0:V.reload.value()})},{default:o(()=>[l(I,{title:"Add Certificate",variant:"outline",size:"sm",class:"relative hstack bg-background text-muted-foreground h-10 w-10 [&_svg]:size-4"},{default:o(()=>[l(a(me))]),_:1})]),_:1},8,["value"])])]),v("div",Et,[(K=(O=a(_))==null?void 0:O.isLoading)!=null&&K.value?(c(),p(k,{key:0,class:"aspect-video"})):(c(),p(h,{key:1,data:(W=(E=a(_))==null?void 0:E.result)==null?void 0:W.value,columns:$,sorting:[{id:"remarks",desc:!1}]},null,8,["data"]))])]}),_:1})):L("",!0)])]),_:1})}}};export{oa as default};
