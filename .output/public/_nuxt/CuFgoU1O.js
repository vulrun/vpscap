import{_ as d}from"./ujrmovv1.js";import{o as _,s as n,_ as u}from"./CVLgalrC.js";import{_ as g}from"./BkNBrZT-.js";import{v as f,b as y,d as t,w as a,o as w,a as o,u as x,g as b,y as h,X as v,z as S}from"./CQzfIEGG.js";import{e as P}from"./BvUkXoQN.js";import"./CFHj_Oi1.js";import"./C45a0SJ1.js";import"./DikSbjVC.js";import"./ycHczuaS.js";const T={class:"w-full h-screen flex items-center justify-center"},z={__name:"login",setup(k){f("bg-gray-800");const r=_({username:n().describe("username"),password:n().describe("password")}),i={username:{inputProps:{type:"test"}},password:{inputProps:{type:"password"}}};async function c(e){try{localStorage.setItem("WebAppToken",P(e==null?void 0:e.username,e==null?void 0:e.password)),await h("/api/verify"),v("/home")}catch(s){S.error(s==null?void 0:s.message,{description:"Login failed, please try again"})}}return(e,s)=>{const p=d,m=u,l=g;return w(),y("main",T,[t(l,{class:"w-full max-w-sm shadow-2xl grid gap-10"},{default:a(()=>[s[1]||(s[1]=o("div",{class:"vstack text-center"},[o("h1",{class:"text-xl"},"VPS-CAP"),o("p",{class:"text-sm text-gray-400"},"login into your vps admin")],-1)),t(m,{class:"grid gap-6",schema:x(r),"field-config":i,onSubmit:c},{default:a(()=>[t(p,{class:"w-full h-12 text-md bg-gray-700 hover:bg-gray-800"},{default:a(()=>s[0]||(s[0]=[b("Login")])),_:1,__:[0]})]),_:1},8,["schema"])]),_:1,__:[1]})])}}};export{z as default};
